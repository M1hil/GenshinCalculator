<!DOCTYPE html>
<html lang="en-US">
    <head>
        <title>     
            PrimoCalculator
        </title>
        <link rel="stylesheet" href="styles.css">
            <meta charset="UTF-8">
            <meta name="keywords" content="HTML">
            <meta name="description" content="PrimoCalculator">
            <meta name="author" content="Michael Georg Pitsch">
            <meta http-equiv="refresh" content="3600">
            <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    </head>
    <body>
        <div onchange="dateDiff(), setMax (), clcupdate()">
            <h1>PrimoCalculator</h1>
            <label for="from">1st Date:</label>
            <input type="date" id="from" name="from">
            <br>
            <label for="to">2nd Date:</label>
            <input type="date" id="to" name="to">
        </div>
        <p id="daysdiff"></p>
        <p id="hal1"></p>
        <p id="hal2"></p>
        <p id="hal3"></p>
        <p id="hal4"></p>
        <p id="hal5"></p>
        <p id="hal6"></p>
        <p id="hal7"></p>
        <p id="hal8"></p>
        <p id="hal9"></p>
        <p>Daily Commissions: 
            <div id="dailys" name="dailys" onclick="checkAddress()" 
                oninput="out.value=parseInt(mydailySlider.value)">
                0
                <input type="range" id="mydailySlider" name="mydailySlider" value="0" min="0" max="0">
                <span id="daysdaily" oninput="document.getElementById('dailys').innerHTML = this.value"></span>
                =
                <output name="out" for="mydailySlider"></output>
        </div> 
        </p>
        <p id="dailys"></p>
        <p>Livestream Codes:    <input type="checkbox" id="codes"           name="codes"            onclick="checkAddress()"/></p>
        <p>Compensations:       <input type="checkbox" id="compensations"   name="compensations"    onclick="checkAddress()"/></p>
        <p>Events:              <input type="checkbox" id="events"          name="events"           onclick="checkAddress()"/></p>
        <p>Character Trials:    <input type="checkbox" id="trials"          name="trials"           onclick="checkAddress()"/></p>
        <p>Abyss:               <input type="checkbox" id="abyss"           name="abyss"            onclick="checkAddress()"/></p>
        <p>Shop reset:          <input type="checkbox" id="shopreset"       name="shopreset"        onclick="checkAddress()"/></p>
        <p>Battlepass free:     <input type="checkbox" id="battlepassfree"  name="battlepassfree"   onclick="checkAddress()"/></p>
        <p>Battlepass paied:    <input type="checkbox" id="battlepasspaied" name="battlepasspaied"  onclick="checkAddress()"/></p>
        <p>Welkin Moon: 
            <div id="welkin" name="welkin" onclick="checkAddress()" 
                oninput="out.value=parseInt(mywelkinSlider.value)">
                0
                <input type="range" id="mywelkinSlider" name="mywelkinSlider" value="0" min="0" max="0">
                <span id="dayswelkin" oninput="document.getElementById('welkin').innerHTML = this.value"></span>
                = 
                <output name="out" for="mywelkinSlider"></output>
        </div> 
        </p>
        <p id="datezeroid"></p>
        <p><span id="primogems"></span> Primogems</p>
        <script>
            function clcdate(){
                var from = document.getElementById("from").value;
                var to = document.getElementById("to").value;
                var date1 = new Date(from);
                var date2 = new Date(to);
                var timeDiff = date2.getTime() - date1.getTime();
                var daysDiff = timeDiff / (1000 * 60 * 60 *24)
                if(daysDiff < 0){
                    return null;
                } 
                else {
                    return daysDiff;
                }
            }
        </script>
        <script>
            function dateDiff(){
                var daysDiff = clcdate()
                if(daysDiff){
                    document.getElementById("daysdiff").innerHTML = `Difference in days: ${daysDiff}`; 
                    document.getElementById("daysdaily").innerHTML = daysDiff;
                    document.getElementById("dayswelkin").innerHTML = daysDiff;
                } else {
                    document.getElementById("daysdiff").innerHTML = "Please enter valid date";
                }
            }   
        </script>
        <script>
            function setMax() {
                const daysDiff = clcdate()
                slider1 = document.getElementById ('mydailySlider');
                slider2 = document.getElementById ('mywelkinSlider');
                if ('max' in slider1 || 'max' in slider2) {  // Google Chrome, Safari from version 5 and Opera
                    slider1.max = daysDiff;
                    slider2.max = daysDiff;
                } 
                else { // Safari before version 5
                    slider1.setAttribute ("max", daysDiff);
                    slider2.setAttribute ("max", daysDiff);
                }
                dateDiff(slider1);
                dateDiff(slider2);
            }
        </script>
        <script type="text/javascript" src="./checkbox.js"></script>
        <script type="text/javascript" src="./javascriptfiles.js"></script>
    </body>
</html>